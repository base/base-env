# base-env [![NPM version](https://img.shields.io/npm/v/base-env.svg?style=flat)](https://www.npmjs.com/package/base-env) [![NPM downloads](https://img.shields.io/npm/dm/base-env.svg?style=flat)](https://npmjs.org/package/base-env) [![Build Status](https://img.shields.io/travis/node-base/base-env.svg?style=flat)](https://travis-ci.org/node-base/base-env)

Base plugin, creates a normalized environment object from a function, filepath or instance of base.

## Install

Install with [npm](https://www.npmjs.com/):

```sh
$ npm install base-env --save
```

## Usage

```js
var Base = require('base');
var env = require('base-env');
var base = new Base();
base.use(env());
```

## API

### [createEnv](index.js#L42)

Create an `env` object with the given `name`, function, filepath or app instance, and options. See the [Env](#Env) API docs below.

**Params**

* `name` **{String}**
* `val` **{Object|Function|String}**
* `options` **{Object}**
* `returns` **{Object}**

**Example**

```js
var base = require('base');
var env = require('base-env');
var app = new Base();
app.use(env());

var env = app.createEnv('foo', function() {});
```

### [Env](lib/env.js#L35)

Create an instance of `Env` with the given `name`, `fn`, `app` instance, and options. The `Env` class is used by [base-generators][] to handle some of the heavy lifting for resolving generators.

**Params**

* `name` **{String}**
* `fn` **{Function|Object|String}**: Function to be lazily invoked, instance, or filepath that resolves to one of the other types when required.
* `app` **{Object}**: Base instance to use for invocation context.
* `options` **{Object}**

**Example**

```js
var env = new Env('foo', function(app) {
  // do stuff to app
});
```

### [.invoke](lib/env.js#L62)

Invoke `env.fn` with the given `context` and `options`.

**Params**

* `context` **{Object}**: The application instance to use for invoking `env.fn`
* `opptions` **{Object}**
* `returns` **{Object}**

**Example**

```js
var app = new Base();
env.fn(app, {doStuff: true});
```

### [.isMatch](lib/env.js#L112)

Returns true if the given `str` matches any of the following properties, in order:

* `env.key`
* `env.name`
* `env.alias`
* `env.dirname`
* `env.path`
* `env.basename`

**Params**

* `str` **{String}**: The string to match
* `returns` **{Boolean}**: Retuns true if a match is made.

**Example**

```js
var env = new Env('foo', fucntion(){});
console.log(env.isMatch('bar')) //=> false
console.log(env.isMatch('foo')) //=> true
```

### [.isDefault](lib/env.js#L161)

Getter that is set to `true` when the env being loaded is in the user's working directory.

* `returns` **{Boolean}**

**Example**

```js
var env = new Env('generator.js', generatorFn, {cwd: process.cwd()});
console.log(env.isDefault);
//=> true
```

### [.namespace](lib/env.js#L192)

Getter for resolving the `namespace` of an `env`. A namespace is
created by joining the `namespace` from a parent instance (if exists)
to `env.alias` (e.g. `parent.namespace + '.' + env.alias`).

* `returns` **{String}**

## Related projects

You might also be interested in these projects:

* [base](https://www.npmjs.com/package/base): base is the foundation for creating modular, unit testable and highly pluggable node.js applications, starting… [more](https://github.com/node-base/base) | [homepage](https://github.com/node-base/base "base is the foundation for creating modular, unit testable and highly pluggable node.js applications, starting with a handful of common methods, like `set`, `get`, `del` and `use`.")
* [base-generators](https://www.npmjs.com/package/base-generators): Adds project-generator support to your `base` application. | [homepage](https://github.com/node-base/base-generators "Adds project-generator support to your `base` application.")
* [base-runner](https://www.npmjs.com/package/base-runner): Orchestrate multiple instances of base-methods at once. | [homepage](https://github.com/node-base/base-runner "Orchestrate multiple instances of base-methods at once.")

## Contributing

This document was generated by [verb](https://github.com/verbose/verb), please don't edit directly. Any changes to the readme must be made in [.verb.md](.verb.md). See [Building Docs](#building-docs).

Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](https://github.com/node-base/base-env/issues/new).

## Building docs

Generate readme and API documentation with [verb](https://github.com/verbose/verb):

```sh
$ npm install -g verb verb-readme-generator && verb
```

## Running tests

Install dev dependencies:

```sh
$ npm install -d && npm test
```

## Author

**Jon Schlinkert**

* [github/jonschlinkert](https://github.com/jonschlinkert)
* [twitter/jonschlinkert](http://twitter.com/jonschlinkert)

## License

Copyright © 2016, [Jon Schlinkert](https://github.com/jonschlinkert).
Released under the [MIT license](https://github.com/node-base/base-env/blob/master/LICENSE).

***

_This file was generated by [verb](https://github.com/verbose/verb), v0.9.0, on June 05, 2016._